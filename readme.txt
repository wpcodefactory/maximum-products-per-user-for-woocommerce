=== Maximum Products per User for WooCommerce ===
Contributors: wpcodefactory, omardabbas, karzin, anbinder, kousikmukherjeeli
Tags: woocommerce, product quantity, limits, quantity restriction, order restriction
Requires at least: 4.4
Tested up to: 6.9
Stable tag: 4.4.4
License: GNU General Public License v3.0
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Limit number of items your WooCommerce customers can buy (lifetime or in selected date range).

== Description ==

> â€œGreat plugin: This plugin is fantastic, simple, light, compatible with all my other plugins (80 installed), and effective. Perfect if you sell services and to limit problems related to order duplications
Support Is brilliant and fast. Strongly advised!â€ â€“ â­â­â­â­â­  [tommaso78](https://wordpress.org/support/topic/great-plugin-28538/)

[Pro Version](https://wpfactory.com/item/maximum-products-per-user-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme) | [Support](https://wpfactory.com/support/item/maximum-products-per-user-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme) | [Documentation & How to](https://wpfactory.com/docs/maximum-products-per-user-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme) | [Demo](https://productperuser.instawp.xyz/)

Have you ever wanted to restrict the products your customer can purchase? Either in lifetime or in specific period?

While this might not be the case for everyone (since we all want to sell as much as we can), in many cases you want to maintain your inventory and guarantee fairness across your customers (specially when running massive promotions), and here comes a handy plugin to restrict the amount, quantities, or orders that each customer can place on your store.

In a nutshell, here is what you can do with this plugin:

* Limit maximum products quantity per user
* Select type of limitation/restriction to apply, whether by quantity, number of orders, prices, weights, or volume
* Specify how long the restriction to be applied, lifetime, in a month/year or custom date range
* Customize & set restrictions by user role
* Control & customize messages appearing for users on limits
* Exclude specific products from plugin settings
* Multi-language sites support (WPML & Polylang)

And much more.

___
## ðŸ¤ Recommended By##
* [WPGlob: 5+ Product  Plugins for WordPress](https://wpglob.com/5-product-catalog-plugins-for-wordpress-free-and-pro/ "WPGlob: 5+ Product  Plugins for WordPress")
* [Themeum: Limit Course Per User](https://docs.themeum.com/tutor-lms/tutorials/limit-one-course-per-user/ "Themeum: Limit Course Per User")
* [WP Help Blog: How to Set a Minimum and Maximum Order in Your WooCommerce Online Store](https://wphelp.blog/how-to-set-a-minimum-and-maximum-order-in-your-woocommerce-online-store/ "WP Help Blog: How to Set a Minimum and Maximum Order in Your WooCommerce Online Store")
* [WCLovers: Limit The Amount of Products a User Can Buy](https://wclovers.com/forums/topic/limit-the-amount-of-products-an-user-can-buy/ "WCLovers: Limit The Amount Of Products An User Can Buy")
* [WPHive: Top Plugins to Restrict Products by User](https://wphive.com/plugins/maximum-products-per-user-for-woocommerce/ "WPHive: Top Plugins To Restrict Products by User")

___
## ðŸš€ Main Features: FREE Version##

### ðŸš€ Restrict Maximum Products & Orders Per User ###

As basic as it sounds, the plugin allows you to restrict what your customers can purchase, restrictions/limits can be based on:

#### **Restrict by Product Quantity** ####

This method allows you to restrict the maximum number (quantity) of products a customer can purchase, restricting it by 10 for example will allow your customers to buy 10 of a single product, or 2 products with quantity of 5 each.

**Use cases:**

1. Limited Edition Items: You have a limited edition product, and you want to ensure that each customer can purchase only a maximum of 2 units to provide a fair opportunity for more customers to access the product.

2. Bulk Purchase Limit: To prevent abuse of discounts, you set a restriction of 10 units per order for a specific product, ensuring that customers cannot exploit bulk purchase discounts excessively.

#### **Restrict by Order** ####

This limits the number or orders a customer can place (lifetime or specified time range) on your store, useful when you want to restrict 1 order per month for example.
The plugin allows you to specify what order status(es) should be treated as a full order, like considering order in plugin restrictions when order status is "Completed" or "Processing" for example.

**Use cases:**

1. Subscription Services: Your store offers a subscription-based service, and you want to limit customers to one subscription order per month to align with your monthly billing cycle.

2. Pharmaceutical Prescriptions: In compliance with some pharmaceutical regulations, you can restrict customers to one order per month for prescription medications to ensure controlled and periodic dispensing.

#### **Restrict by Price (with/without tax)** ####

This allows you to control maximum price (per product) customers can purchase, for example, you can restrict specific user roles from buying expensive products if they are new to your store and afraid of fraud or high returns.

**Use cases:**

1. New Customer Trial Period: For new customers, you want to limit the purchase of high-value items during the first month to minimize the risk of fraud or returns, setting a maximum purchase price for specific user roles.

2. Membership Tiers: Different user roles have varying purchase limits based on their membership tiers. Premium members, for instance, can buy higher-priced items compared to standard members.

#### **Restrict by Product Weight & Volume** ####

If you need to restrict orders based on product weight or volume, the plugin helps in accomplishing that. This type of restrictions can be very useful in shipping constraints, when packages are set to specific dimensions (volume) or maximum weight per order.

**Use cases:**

1. Shipping Constraints: To comply with shipping regulations, you set restrictions on the maximum weight and volume per order. This ensures that customers cannot place orders that exceed the shipping constraints of your chosen carriers.

2. Fragile Items: Products with specific weight or volume constraints, such as fragile or bulky items, are restricted to ensure safe and cost-effective shipping, preventing customers from overloading orders with delicate items.


### ðŸš€ Restrict Maximum Products & Orders Per User Role ###

Set different restrictions & limitations for what your customers can purchase (order, quantity, prices, etc) based on user role, whether standard WordPress/WooCommerce roles, or custom ones you have.

**Use cases:**

1. Wholesale Customers: You have wholesale customers who buy in large quantities. Using the plugin, you can set higher product quantity limits for users with the "Wholesale" role, allowing them to place bulk orders while maintaining control over the order size.

2. VIP or Premium Members: You offer a VIP or premium membership program. Members with this special role enjoy the privilege of higher order limits and can purchase products at a higher price point, providing exclusive benefits to your loyal and high-value customers

3. New Customer Trial Period: To encourage new customers to explore your products, you set relaxed restrictions for users with the "New Customer" role during their first month. This allows them to experience a variety of offerings without immediate constraints on quantity or prices.

### ðŸš€ Select How Long Restriction Period to Last ###

When you limit the maximum products a customer can buy, you need to define the period in which this restriction will be applied, i.e. is it a lifetime, in a week, in a month, and so on.

You can specify to reset the count for every customer for any specific period (in seconds, minutes, hours, days, or weeks), where the customers will start a new purchase limit when that specified period passes.

### ðŸš€ Control Guest Users Limits ###

The plugin allows you to go further and control what restrictions to apply to guest users (non logged-in) in case you're allowing guest checkout on your WooCommerce store.

You can select from multiple options to apply restrictions in these cases:

- Do nothing (i.e. do not limit guests sales), such option will allow people to bypass all restrictions
- Do nothing but block guests from purchasing products beyond the limits, this will treat guest users similar to logged-in ones
- Block guests from buying products
- Identify guests by IP address
- Identify guests by checkout billing email address

### ðŸš€ Customize Messages & Notifications ###

You can personalize the messages appearing to your customers on different locations, informing them about their quantities and limits.

#### **Add to Cart Validation** ####

Select to validate product quantities when they add items to their cart, so customers are aware of limits before reaching the cart.

On cart, you can also configure the plugin to show notifications either as notice, error, or success with custom messages using shortcodes available.

If customers have multiple items with wrong limits, you can also show multiple notices (one for each product).

#### **Block Checkout** ####

You can prevent customers from accessing the checkout page on exceeded limits, and they will be redirected to the cart page in this case.

In addition, you can use more validation actions, like woocommerce_review_order_before_submit to validate the limits on checkout update.

#### **Show Info on Product Page** ####

Don't leave your customers lost between error messages when trying to add to cart, show product limit information either as a notice, in product summary, or product description.

Customize the message by showing the remaining amount allowed for that product, and you can also include what the customer has already bought, using this format:
"The remaining amount for %product_title% is %remaining% (you've already bought %bought% out of %limit%)."

#### **Show Limits on My Account Page** ####

Add a separate tab on "My Account" where customers can see the purchased, remaining, and maximum amounts they can buy from each product.

The tab is customizable by name, id, and icon (from FontAwesome), and further customization can be applied to its text content as well.

### ðŸš€ Admin Management Options ###

The plugin isn't only about restricting what customers can buy, it comes with variety of options that help admins better manage customers sales and see where they should/can enforce some limitations.

#### **Show Users Sales Data** ####

Admins can see and edit each user's sales data in their profile pages, so admins can have general overview of calculated sales data (periodic or lifetime) for each customer.

#### **Export Sales Data** ####

Admins can also have the option of exporting all users sales data to CSV files, with custom column separator.

You can also select to export users sales data in a single row (for further analysis) and customize data separator and any extra metas you need in the report.

### ðŸš€ Calculate & Recalculate Sales Data  ###

Even if you installed the plugin just today, you can run a tool to recalculate all previous data for your customers, and include outputs in plugin restriction settings you want to apply.

You can also start in a clean slate at any moment, delete all saved sales data for your customers (from plugin calculations, not actual data) and start implementing limitations after that.

> â€œGreat plugin & support: This plugin does exactly what it says it does. The creator Tom offers amazing support, and was very willing to help make sure everything was working perfectly. I definitely recommend this plugin and Tomâ€™s support.â€ â€“ â­â­â­â­â­ [jburkhart24](https://wordpress.org/support/topic/great-plugin-support-224/)

> â€œperfect service!: unbelievably good service. WPFactory quickly and accurately customized the plugin for us. This is how a plugin manufacturer must be. Thank you very much Pablo!â€ â€“ â­â­â­â­â­ [rawagmbh](https://wordpress.org/support/topic/perfect-service-21/)

___
## ðŸ† Do More: PRO Version ##

All what's listed above (and more) is available in the free version, but for those who would like to go further and beyond, we have a premium version of [Maximum Products per User for WooCommerce Pro](https://wpfactory.com/item/maximum-products-per-user-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme) plugin.

### ðŸ†Specify Limits by Category & Tags ###

The plugin by default deals with products quantities, the Pro feature allows you to add limits (all limits mentioned above) based on category & tag.

This option adds a new meta key in products categories & tags where you can specify the maximum limit you want to be enforced.

### ðŸ†Specify Limits by Product ###

Want to specify a maximum amount by product and not quantity? You can configure the maximum amount/quantity of any particular product using this option, by having a new key in each product page to set the limit you need.

### ðŸ†Set Limits using Advanced Formulas ###

The default limiting options aren't enough for you? Those who love math equations & formulas can use advanced methods to calculate limits for users, based on various shortcodes like:
user_role, payment_method, product_id, term_id, product_sku.
And much more.

### ðŸ† Guest Users Advanced Options ###

In the Pro version, you can select to prevent guest customers from buying anything on your store, or allow regular guest checkout but prevent exceeding plugin limits.

Multiple options are also available to customize the error/notice messages to show to guest users.

You can even change "Add to cart" button text/label for guest users to something like "Login to purchase", furthermore, you can hide products blocked from guest users from shop/category & search pages.

### ðŸ† Allow Exceeding Limits ###

If you just want error messages to become notices, you can allow users to place orders with exceeding limits without preventing them from checkout.

### ðŸ† 3rd Party Compatibility ###

The plugin works seamlessly with most plugins in their standard functionalities, but we've added several advanced compatibility options with Point of Sale for WooCommerce (by Actuality Extensions) & WPC Composite Products for WooCommerce (by WPClever) to provide more integration with these plugins.

## ðŸ’¯ Why WPFactory?##

* **Experience You Can Trust:** Over a decade in the business
* **Wide Plugin Selection:** Offering 65+ unique and powerful plugins
* **Highly-Rated Support:** Backed by hundreds of 5-star reviews
* **Expert Team:** Dedicated developers and technical support at your service

___

## What's Next? Discover More Plugins by WPFactory ##

WPFactory has a diverse range of plugins tailored to enhance your experience, some of our top-selling plugins are:

* [**Min Max Step Quantity**](https://wpfactory.com/item/product-quantity-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Min Max Step Quantity**"): Set minimum, maximum, step, and default product quantities, including dropdowns and decimal options on WooCommerce (**[Free version](https://wordpress.org/plugins/product-quantity-for-woocommerce/ "Free version")**)

* [**Cost of Goods for WooCommerce**](https://wpfactory.com/item/cost-of-goods-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Cost of Goods WooCommerce**"): Enhance profit maximization and financial management by accurately calculating your WooCommerce store's COGS (**[Free version](https://wordpress.org/plugins/cost-of-goods-for-woocommerce/ "Free version")**)

* [**Maximum Products per User**](https://wpfactory.com/item/maximum-products-per-user-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Maximum Products per User**"): Impose personalized purchase limits based on user roles and date ranges to manage customer buying behavior (**[Free version](https://wordpress.org/plugins/maximum-products-per-user-for-woocommerce/ "Free version")**)

* [**Order Minimum/Maximum Amount**](https://wpfactory.com/item/order-minimum-maximum-amount-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Order Minimum/Maximum Amount**"): Customize order limits by amount, quantity, weight, or volume, including user role, category, and more (**[Free version](https://wordpress.org/plugins/order-minimum-amount-for-woocommerce/ "Free version")**)

* [**EU/UK VAT Manager for WooCommerce**](https://wpfactory.com/item/eu-vat-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**EU/UK VAT Manager for WooCommerce**"): Automate VAT compliance for your WooCommerce store, including settings and VIES validation for a seamless experience (**[Free version](https://wordpress.org/plugins/eu-vat-for-woocommerce/ "Free version")**)

* [**Email Verification for WooCommerce**](https://wpfactory.com/item/email-verification-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Email Verification for WooCommerce**"): Boost security and credibility by verifying customer emails, reducing spam, and improving email marketing (**[Free version](https://wordpress.org/plugins/maximum-products-per-user-for-woocommerce/ "Free version")**)

* [**Free Shipping Over Amount for WooCommerce**](https://wpfactory.com/item/amount-left-free-shipping-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Free Shipping Over Amount for WooCommerce**"): Encourage higher spending by offering free shipping based on amount, with a progress bar for customers (**[Free version](https://wordpress.org/plugins/amount-left-free-shipping-woocommerce/ "Free version")**)

* [**Dynamic Pricing & Bulk Quantity Discounts**](https://wpfactory.com/item/product-price-by-quantity-for-woocommerce/?utm_source=wporg&utm_medium=organic&utm_campaign=readme "**Dynamic Pricing & Bulk Quantity Discounts**"): Advanced dynamic pricing and discount rules for WooCommerce, encouraging bulk purchases and driving more sales (**[Free version](https://wordpress.org/plugins/wholesale-pricing-woocommerce/ "Free version")**)


== Frequently Asked Questions ==
= Is it possible that the limits could work for different products at the same time instead of the same ones?
Yes, it's possible, but it's a bit of a workaround. You'll need to assign all your products to some category or tag. After that you need to enable "**Limits > Per product category**" (or "**Limits > Per product tag**"), and then set "**Limit per user**" option for that category (or tag) in "**Products > Categories > Your category > Edit**".

= Where do I report security bugs found in this plugin? =
Please report security bugs found in the source code of the plugin through the [Patchstack Vulnerability Disclosure  Program](https://patchstack.com/database/vdp/9e5fc117-4208-4864-8cde-7cbf9ebffa56). The Patchstack team will assist you with verification, CVE assignment, and notify the developers of this plugin.

== Installation ==

**Follow these simplified steps to get your plugin up and running:**

**From the WordPress Admin Panel:**
1. Navigate to "Plugins" > "Add New".
2. Use the search bar and find the plugin using the exact name.
3. Click "Install Now" for the desired plugin.
4. Once the installation is finished, and click "Activate".

**Manual Installation Using FTP:**
1. Download the desired plugin from WordPress.org.
2. Using your preferred FTP client, upload the entire plugin folder to the /wp-content/plugins/ directory of your WordPress installation.
3. Go to "Plugins" > "Installed Plugins" in your dashboard and click "Activate".

**Manual download & upload from the WordPress Admin Panel:**
1. Download the desired plugin in a ZIP format.
2. On your site, navigate to "Plugins" > "Add New" and click the "Upload Plugin" button.
3. Choose the downloaded plugin file and click "Install Now."
4. After the installation is complete, click "Activate".

**Post-Activation:**
Once activated, access the plugin's settings by navigating to "WooCommerce > Settings" and look for the relevant tab.

== Changelog ==

= 4.4.4 - 06/01/2026 =
* Fix - Fixed vulnerability.

= 4.4.3 - 06/01/2026 =
* Dev - Updated Cross-Selling library from 1.0.6 to version 1.0.9.
* Updated readme.
* WC tested up to: 10.4.

= 4.4.2 - 08/12/2025 =
* Fix - Fixed possible problem with the Background Processing library.
* Tested up to: 6.9.

= 4.4.1 - 24/11/2025 =
* Dev - Updated Cross-Selling library to version 1.0.6.
* Dev - Background Processing library replaced from WooCommerce to DeliciousBrains.
* WC tested up to: 10.3.

= 4.4.0 - 10/09/2025 =
* Fix - Product taxonomy limit issue resolved.
* Fix - Undefined array key term_id on `\includes\class-alg-wc-mppu-sales-data-btn.php `.
* Dev - Frontend - Customer message for each category and tag - field added.

= 4.3.9 - 15/08/2025 =
* Fix - Guests - Block method - Changed default value from array to string to prevent guests from buying products.
* Dev - Updated Math Expression library to 2.2.3.
* Dev - Updated WPFactory Admin Menu library to 1.0.8.
* Dev - Updated WPFactory Key Manager library to 1.0.7.
* WC tested up to: 10.1.

= 4.3.8 - 30/05/2025 =
* Dev - Admin - Added option to enable/disable sales data on term pages.
* Dev - Admin - Added option to load sales data on term pages via AJAX.

= 4.3.7 - 30/04/2025 =
* Fix - Fixed vulnerability issue.

= 4.3.6 - 23/04/2025 =
* Fix - Fixed `changelog-older.txt` info.

= 4.3.5 - 23/04/2025 =
* Fix - Frontend - Product limit message - Fixed error "Class optimistex\expression\Expression not found in server".
* Dev - Updated `optimistex/math-expression` library.
* Tested up to: 6.8.
* WC tested up to: 9.8.

= 4.3.4 - 09/12/2024 =
* Dev - Updated cross-selling and key manager library.
* Tested up to: 6.7.
* WC tested up to: 9.4.

= 4.3.3 - 23/10/2024 =
* Fix - Frontend - Product limit message - Fixed error "Class optimistex\expression\MathExpression not found".
* Dev - Updated `optimistex/math-expression` library.

= 4.3.2 - 21/10/2024 =
* Fix - Fixed php warning on `Alg_WC_MPPU_Users::get_order_products_by_term()`.

= 4.3.1 - 18/10/2024 =
* Dev - Capability from cross-selling fixed.

= 4.3.0 - 14/10/2024 =
* Dev - WPFactory admin menu removed from pro version.
* Fix - WPFactory menu and submenus are now visible and accessible.

[View older changelog entries](https://plugins.svn.wordpress.org/maximum-products-per-user-for-woocommerce/trunk/changelog-older.txt)

== Upgrade Notice ==

= 1.0.0 =
This is the first release of the plugin.